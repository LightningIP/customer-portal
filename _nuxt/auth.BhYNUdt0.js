import{a_ as i,$ as n,a$ as s,b0 as u}from"./entry.BOBPfMFk.js";const g=i(async(l,c)=>{var a;let o,t;const e=n();if([o,t]=s(()=>e.init()),await o,t(),console.log({isLoggedIn:e.isLoggedIn,auth:e.auth,expired:(a=e.auth)==null?void 0:a.expired}),!e.isLoggedIn||!e.auth||e.auth.expired){console.log("I think you need to log in");try{[o,t]=s(()=>e.loginPopup()),await o,t()}catch(r){if(r.message==="Popup closed by user")return u("Login cancelled");throw console.error("Failed to log in"),console.error(r),r}}});export{g as default};
