import{q as P,v as b,y as h,K,M as x,N as M,aP as O,x as F,aN as A,aG as j,aB as k,V as D,G as U,R as E,aR as B,r as T,k as I,U as W}from"./entry.SIUp9reF.js";const q=P({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),C=Symbol.for("vuetify:data-table-pagination");function ee(t){const a=b(t,"page",void 0,l=>+(l??1)),e=b(t,"itemsPerPage",void 0,l=>+(l??10));return{page:a,itemsPerPage:e}}function te(t){const{page:a,itemsPerPage:e,itemsLength:l}=t,r=h(()=>e.value===-1?0:e.value*(a.value-1)),f=h(()=>e.value===-1?l.value:Math.min(l.value,r.value+e.value)),c=h(()=>e.value===-1||l.value===0?1:Math.ceil(l.value/e.value));K(()=>{a.value>c.value&&(a.value=c.value)});function s(i){e.value=i,a.value=1}function u(){a.value=A(a.value+1,1,c.value)}function n(){a.value=A(a.value-1,1,c.value)}function d(i){a.value=A(i,1,c.value)}const o={page:a,itemsPerPage:e,startIndex:r,stopIndex:f,pageCount:c,itemsLength:l,nextPage:u,prevPage:n,setPage:d,setItemsPerPage:s};return x(C,o),o}function ae(){const t=M(C);if(!t)throw new Error("Missing pagination!");return t}function le(t){const a=O("usePaginatedItems"),{items:e,startIndex:l,stopIndex:r,itemsPerPage:f}=t,c=h(()=>f.value<=0?e.value:e.value.slice(l.value,r.value));return F(c,s=>{a.emit("update:currentItems",s)}),{paginatedItems:c}}const H={showSelectAll:!1,allSelected:()=>[],select:t=>{var l;let{items:a,value:e}=t;return new Set(e?[(l=a[0])==null?void 0:l.value]:[])},selectAll:t=>{let{selected:a}=t;return a}},G={showSelectAll:!0,allSelected:t=>{let{currentPage:a}=t;return a},select:t=>{let{items:a,value:e,selected:l}=t;for(const r of a)e?l.add(r.value):l.delete(r.value);return l},selectAll:t=>{let{value:a,currentPage:e,selected:l}=t;return G.select({items:e,value:a,selected:l})}},L={showSelectAll:!0,allSelected:t=>{let{allItems:a}=t;return a},select:t=>{let{items:a,value:e,selected:l}=t;for(const r of a)e?l.add(r.value):l.delete(r.value);return l},selectAll:t=>{let{value:a,allItems:e,selected:l}=t;return L.select({items:e,value:a,selected:l})}},re=P({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:j}},"DataTable-select"),V=Symbol.for("vuetify:data-table-selection");function ne(t,a){let{allItems:e,currentPage:l}=a;const r=b(t,"modelValue",t.modelValue,v=>new Set(k(v).map(y=>{var p;return((p=e.value.find(w=>t.valueComparator(y,w.value)))==null?void 0:p.value)??y})),v=>[...v.values()]),f=h(()=>e.value.filter(v=>v.selectable)),c=h(()=>l.value.filter(v=>v.selectable)),s=h(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return H;case"all":return L;case"page":default:return G}});function u(v){return k(v).every(y=>r.value.has(y.value))}function n(v){return k(v).some(y=>r.value.has(y.value))}function d(v,y){const p=s.value.select({items:v,value:y,selected:new Set(r.value)});r.value=p}function o(v){d([v],!u([v]))}function i(v){const y=s.value.selectAll({value:v,allItems:f.value,currentPage:c.value,selected:new Set(r.value)});r.value=y}const g=h(()=>r.value.size>0),S=h(()=>{const v=s.value.allSelected({allItems:f.value,currentPage:c.value});return!!v.length&&u(v)}),m={toggleSelect:o,select:d,selectAll:i,isSelected:u,isSomeSelected:n,someSelected:g,allSelected:S,showSelectAll:s.value.showSelectAll};return x(V,m),m}function ue(){const t=M(V);if(!t)throw new Error("Missing selection!");return t}const se=P({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),N=Symbol.for("vuetify:data-table-sort");function ce(t){const a=b(t,"sortBy"),e=D(t,"mustSort"),l=D(t,"multiSort");return{sortBy:a,mustSort:e,multiSort:l}}function oe(t){const{sortBy:a,mustSort:e,multiSort:l,page:r}=t,f=u=>{if(u.key==null)return;let n=a.value.map(o=>({...o}))??[];const d=n.find(o=>o.key===u.key);d?d.order==="desc"?e.value?d.order="asc":n=n.filter(o=>o.key!==u.key):d.order="desc":l.value?n=[...n,{key:u.key,order:"asc"}]:n=[{key:u.key,order:"asc"}],a.value=n,r&&(r.value=1)};function c(u){return!!a.value.find(n=>n.key===u.key)}const s={sortBy:a,toggleSort:f,isSorted:c};return x(N,s),s}function ie(){const t=M(N);if(!t)throw new Error("Missing sort!");return t}function fe(t,a,e,l,r){const f=U();return{sortedItems:h(()=>e.value.length?J(a.value,e.value,f.current.value,{...t.customKeySort,...l==null?void 0:l.value},r==null?void 0:r.value):a.value)}}function J(t,a,e,l,r){const f=new Intl.Collator(e,{sensitivity:"accent",usage:"sort"});return[...t].sort((c,s)=>{for(let u=0;u<a.length;u++){const n=a[u].key,d=a[u].order??"asc";if(d===!1)continue;let o=E(c.raw,n),i=E(s.raw,n),g=c.raw,S=s.raw;if(d==="desc"&&([o,i]=[i,o],[g,S]=[S,g]),r!=null&&r[n]){const m=r[n](g,S);if(!m)continue;return m}if(l!=null&&l[n]){const m=l[n](o,i);if(!m)continue;return m}if(o instanceof Date&&i instanceof Date)return o.getTime()-i.getTime();if([o,i]=[o,i].map(m=>m!=null?m.toString().toLocaleLowerCase():m),o!==i)return B(o)&&B(i)?0:B(o)?-1:B(i)?1:!isNaN(o)&&!isNaN(i)?Number(o)-Number(i):f.compare(o,i)}return 0})}const de=P({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),_=Symbol.for("vuetify:data-table-group");function ve(t){return{groupBy:b(t,"groupBy")}}function ge(t){const{groupBy:a,sortBy:e}=t,l=T(new Set),r=h(()=>a.value.map(n=>({...n,order:n.order??!1})).concat(e.value));function f(n){return l.value.has(n.id)}function c(n){const d=new Set(l.value);f(n)?d.delete(n.id):d.add(n.id),l.value=d}function s(n){function d(o){const i=[];for(const g of o.items)"type"in g&&g.type==="group"?i.push(...d(g)):i.push(g);return i}return d({type:"group",items:n,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:r,toggleGroup:c,opened:l,groupBy:a,extractRows:s,isGroupOpen:f};return x(_,u),u}function me(){const t=M(_);if(!t)throw new Error("Missing group!");return t}function X(t,a){if(!t.length)return[];const e=new Map;for(const l of t){const r=E(l.raw,a);e.has(r)||e.set(r,[]),e.get(r).push(l)}return e}function $(t,a){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!a.length)return[];const r=X(t,a[0]),f=[],c=a.slice(1);return r.forEach((s,u)=>{const n=a[0],d=`${l}_${n}_${u}`;f.push({depth:e,id:d,key:n,value:u,items:c.length?$(s,c,e+1,d):s,type:"group"})}),f}function z(t,a){const e=[];for(const l of t)"type"in l&&l.type==="group"?(l.value!=null&&e.push(l),(a.has(l.id)||l.value==null)&&e.push(...z(l.items,a))):e.push(l);return e}function ye(t,a,e){return{flatItems:h(()=>{if(!a.value.length)return t.value;const r=$(t.value,a.value.map(f=>f.key));return z(r,e.value)})}}const he=P({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Q=Symbol.for("vuetify:datatable:expanded");function Se(t){const a=D(t,"expandOnClick"),e=b(t,"expanded",t.expanded,s=>new Set(s),s=>[...s.values()]);function l(s,u){const n=new Set(e.value);u?n.add(s.value):n.delete(s.value),e.value=n}function r(s){return e.value.has(s.value)}function f(s){l(s,!r(s))}const c={expand:l,expanded:e,expandOnClick:a,isExpanded:r,toggleExpand:f};return x(Q,c),c}function pe(){const t=M(Q);if(!t)throw new Error("foo");return t}function be(t){let{page:a,itemsPerPage:e,sortBy:l,groupBy:r,search:f}=t;const c=O("VDataTable"),s=h(()=>({page:a.value,itemsPerPage:e.value,sortBy:l.value,groupBy:r.value,search:f.value}));let u=null;F(s,()=>{j(u,s.value)||((u==null?void 0:u.search)!==s.value.search&&(a.value=1),c.emit("update:options",s.value),u=s.value)},{deep:!0,immediate:!0})}const Y=(t,a,e)=>t==null||a==null?-1:t.toString().toLocaleLowerCase().indexOf(a.toString().toLocaleLowerCase()),Pe=P({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Z(t,a,e){var s;const l=[],r=(e==null?void 0:e.default)??Y,f=e!=null&&e.filterKeys?k(e.filterKeys):!1,c=Object.keys((e==null?void 0:e.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return l;e:for(let u=0;u<t.length;u++){const[n,d=n]=k(t[u]),o={},i={};let g=-1;if(a&&!(e!=null&&e.noFilter)){if(typeof n=="object"){const v=f||Object.keys(d);for(const y of v){const p=W(d,y),w=(s=e==null?void 0:e.customKeyFilter)==null?void 0:s[y];if(g=w?w(p,a,n):r(p,a,n),g!==-1&&g!==!1)w?o[y]=g:i[y]=g;else if((e==null?void 0:e.filterMode)==="every")continue e}}else g=r(n,a,n),g!==-1&&g!==!1&&(i.title=g);const S=Object.keys(i).length,m=Object.keys(o).length;if(!S&&!m||(e==null?void 0:e.filterMode)==="union"&&m!==c&&!S||(e==null?void 0:e.filterMode)==="intersection"&&(m!==c||!S))continue}l.push({index:u,matches:{...i,...o}})}return l}function we(t,a,e,l){const r=T([]),f=T(new Map),c=h(()=>l!=null&&l.transform?I(a).map(u=>[u,l.transform(u)]):I(a));K(()=>{const u=typeof e=="function"?e():I(e),n=typeof u!="string"&&typeof u!="number"?"":String(u),d=Z(c.value,n,{customKeyFilter:{...t.customKeyFilter,...I(l==null?void 0:l.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),o=I(a),i=[],g=new Map;d.forEach(S=>{let{index:m,matches:v}=S;const y=o[m];i.push(y),g.set(y.value,v)}),r.value=i,f.value=g});function s(u){return f.value.get(u.value)}return{filteredItems:r,filteredMatches:f,getMatches:s}}export{ie as a,ue as b,me as c,pe as d,de as e,re as f,se as g,q as h,Pe as i,ve as j,ce as k,ee as l,he as m,we as n,ge as o,oe as p,fe as q,ye as r,te as s,le as t,ae as u,ne as v,Se as w,be as x};
