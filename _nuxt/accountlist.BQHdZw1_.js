import{f as w,g as x,h as C,r as n,i as B,j as D,o as l,c as _,k as t,l as k,w as m,d as N,t as p,m as u,b as A,n as d,_ as P}from"./entry.SIUp9reF.js";import{u as U}from"./asyncData.BgXEAR5X.js";import{V as W}from"./VAlert.C92k9yIl.js";import{V as $}from"./VImg.C7G75g1_.js";import{V as j}from"./VDataTableServer.lHctqgI7.js";import"./VAvatar.C6fgBJJk.js";import"./VBtn.B9kOMu1m.js";import"./filter.CGUnb9Lx.js";import"./VSelect.kYmte2xS.js";import"./index.CqBUh9nA.js";import"./VMenu.W11Pdke7.js";import"./forwardRefs.C-GTDzx5.js";import"./form.ChBs7JeA.js";import"./VChip.CXGDWW6y.js";import"./VTable.Cs42mpsc.js";const R={key:0},S=w({__name:"accountlist",async setup(T){let i,g;const y=x(),V=C(),a=n(1),r=n(10),s=n([{key:"createdAt",order:"desc"}]),v=n([{title:"Account Number",key:"accountNumber",align:"start"},{title:"Customer",key:"customer",align:"start"},{title:"",key:"id",align:"start"}]),{data:c,pending:b,error:f,refresh:E}=([i,g]=B(async()=>U(async()=>await V.core.account.listAllAccounts({page:a.value,limit:r.value,sort:s.value}),{watch:[a,r,s]},"$MAGWQj9RVt")),i=await i,g(),i);return(G,o)=>{const h=D("router-link");return l(),_("div",null,[t(f)?(l(),k(W,{key:0,type:"error"},{default:m(()=>[N(p(t(f)),1)]),_:1})):u("",!0),t(c)?(l(),k(j,{key:1,loading:t(b),"loading-text":"Loading... Please wait","items-per-page":t(r),"onUpdate:itemsPerPage":o[0]||(o[0]=e=>d(r)?r.value=e:null),page:t(a),"onUpdate:page":o[1]||(o[1]=e=>d(a)?a.value=e:null),"sort-by":t(s),"onUpdate:sortBy":o[2]||(o[2]=e=>d(s)?s.value=e:null),"multi-sort":"","items-length":t(c).pagination.count,items:t(c).accounts,"item-key":"id","items-per-page-options":[10,25,50,100],headers:t(v)},{"item.id":m(({item:e})=>[A(h,{to:`/core/account/${e.id}`},{default:m(()=>[A($,{icon:"mdi-account-edit-outline",color:"black"})]),_:2},1032,["to"])]),"item.createdAt":m(({value:e})=>[e?(l(),_("span",R,p(t(y).format(e,"normalDateWithWeekday"))+" "+p(t(y).format(e,"year")),1)):u("",!0)]),_:1},8,["loading","items-per-page","page","sort-by","items-length","items","headers"])):u("",!0)])}}}),et=P(S,[["__file","accountlist.vue"]]);export{et as default};
