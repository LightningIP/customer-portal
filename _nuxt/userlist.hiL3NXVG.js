import{f as w,u as x,g as C,r as n,h as D,i as B,o as l,c as f,j as e,k as _,w as m,d as N,t as d,l as u,b as V,m as c,_ as P}from"./entry.BOBPfMFk.js";import{u as L}from"./asyncData.Cc44f3DM.js";import{V as U}from"./VAlert.BL5Mlwzt.js";import{V as E}from"./VImg.780dCUd8.js";import{V as $}from"./VDataTableServer.C7Ev3nj5.js";import"./VAvatar.DlQoPayE.js";import"./VBtn.DMFPVIAn.js";import"./filter.CQobfN2u.js";import"./VSelect.bqfZhYfh.js";import"./index.BSNRW53t.js";import"./VMenu.D0sDVS1I.js";import"./forwardRefs.C-GTDzx5.js";import"./form.B_GF5cks.js";import"./VChip.BXXxOoS_.js";import"./VTable.m2jQkSG3.js";const R={key:0},S=w({__name:"userlist",async setup(T){let i,y;const g=x(),h=C(),r=n(1),s=n(10),o=n([{key:"createdAt",order:"desc"}]),v=n([{title:"Display",key:"displayName",align:"start"},{title:"Legal",key:"legalName",align:"start"},{title:"Email",key:"primaryEmail",align:"start"},{title:"Phone",key:"primaryMobile",align:"start"},{title:"Created",key:"createdAt",align:"start"},{title:"",key:"id",align:"start"}]),{data:p,pending:A,error:k,refresh:W}=([i,y]=D(async()=>L(async()=>await h.core.user.listAllUsers({page:r.value,limit:s.value,sort:o.value}),{watch:[r,s,o]},"$ibLRP0kL0X")),i=await i,y(),i);return(j,a)=>{const b=B("router-link");return l(),f("div",null,[e(k)?(l(),_(U,{key:0,type:"error"},{default:m(()=>[N(d(e(k)),1)]),_:1})):u("",!0),e(p)?(l(),_($,{key:1,loading:e(A),"loading-text":"Loading... Please wait","items-per-page":e(s),"onUpdate:itemsPerPage":a[0]||(a[0]=t=>c(s)?s.value=t:null),page:e(r),"onUpdate:page":a[1]||(a[1]=t=>c(r)?r.value=t:null),"sort-by":e(o),"onUpdate:sortBy":a[2]||(a[2]=t=>c(o)?o.value=t:null),"multi-sort":"","items-length":e(p).pagination.count,items:e(p).users,"item-key":"id","items-per-page-options":[10,25,50,100],headers:e(v)},{"item.id":m(({item:t})=>[V(b,{to:`/core/user/${t.id}`},{default:m(()=>[V(E,{icon:"mdi-account-edit-outline",color:"black"})]),_:2},1032,["to"])]),"item.createdAt":m(({value:t})=>[t?(l(),f("span",R,d(e(g).format(t,"normalDateWithWeekday"))+" "+d(e(g).format(t,"year")),1)):u("",!0)]),_:1},8,["loading","items-per-page","page","sort-by","items-length","items","headers"])):u("",!0)])}}}),te=P(S,[["__file","userlist.vue"]]);export{te as default};
