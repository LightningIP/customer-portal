import{q as b,s as h,v as w,r as y,I as T,x as A,y as x,z as I,b as u,A as B,B as L,f as F,g as U,h as z,i as M,o as D,l as N,w as l,k as n,n as P,d as S,t as C,m as O,C as $,D as q,a as W,E as G,_ as J}from"./entry.SIUp9reF.js";import{u as j}from"./asyncData.BgXEAR5X.js";import{V as H,a as K,b as Q,c as X}from"./VRow.g595Nkhj.js";import{V as Y}from"./VAutocomplete.Cg_MlNHr.js";import{V as Z}from"./VAlert.C92k9yIl.js";import{V as ee}from"./VDataTableServer.lHctqgI7.js";import{V as R}from"./VBtn.B9kOMu1m.js";import{m as te,V as ae,u as le,a as k}from"./VMenu.W11Pdke7.js";import{f as re}from"./forwardRefs.C-GTDzx5.js";import{u as oe,a as se}from"./VImg.C7G75g1_.js";import{V as ie}from"./VSheet.gb-fjGy1.js";import"./VAvatar.C6fgBJJk.js";/* empty css              */import"./VSelect.kYmte2xS.js";import"./index.CqBUh9nA.js";import"./form.ChBs7JeA.js";import"./VChip.CXGDWW6y.js";import"./filter.CGUnb9Lx.js";import"./VTable.Cs42mpsc.js";const ne=b({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...te({origin:"center center",scrollStrategy:"block",transition:{component:ae},zIndex:2400})},"VDialog"),ue=h()({name:"VDialog",props:ne(),emits:{"update:modelValue":o=>!0},setup(o,g){let{slots:m}=g;const v=w(o,"modelValue"),{scopeId:E}=le(),e=y();function d(s){var i,V;const t=s.relatedTarget,r=s.target;if(t!==r&&((i=e.value)!=null&&i.contentEl)&&((V=e.value)!=null&&V.globalTop)&&![document,e.value.contentEl].includes(r)&&!e.value.contentEl.contains(r)){const p=L(e.value.contentEl);if(!p.length)return;const c=p[0],a=p[p.length-1];t===c?a.focus():c.focus()}}T&&A(()=>v.value&&o.retainFocus,s=>{s?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),A(v,async s=>{var t,r;await B(),s?(t=e.value.contentEl)==null||t.focus({preventScroll:!0}):(r=e.value.activatorEl)==null||r.focus({preventScroll:!0})});const f=x(()=>I({"aria-haspopup":"dialog","aria-expanded":String(v.value)},o.activatorProps));return oe(()=>{const s=k.filterProps(o);return u(k,I({ref:e,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},s,{modelValue:v.value,"onUpdate:modelValue":t=>v.value=t,"aria-modal":"true",activatorProps:f.value,role:"dialog"},E),{activator:m.activator,default:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return u(se,{root:"VDialog"},{default:()=>{var V;return[(V=m.default)==null?void 0:V.call(m,...r)]}})}})}),re({},e)}}),ce=F({__name:"order-list",async setup(o){let g,m;U();const v=[{value:"",title:"All Orders",subtitle:"Show All Orders"},{title:"IN PROGRESS",props:{disabled:!0}},{value:"NEW",title:"New"},{value:"NBN_ORDER_ACCEPTED",title:"NBN Order Accepted"},{value:"NBN_PLANNED_REMEDIATION_DATE",title:"NBN Planned Remediation Date"},{title:"FINALISED",props:{disabled:!0}},{value:"VT_ORDER_COMPLETED",title:"Completed"},{value:"VT_ORDER_CANCELLED",title:"Cancelled"}],E=z(),e=y(1),d=y(10),f=y(""),s=y([{title:"ID",key:"vtOrderId",align:"start"},{title:"Status",key:"status",align:"start"},{title:"Type",key:"orderType",align:"start"},{title:"Service",key:"service",align:"start"},{title:"",key:"open",value:"vtOrderId",align:"start"}]),{data:t,pending:r,error:i,refresh:V}=([g,m]=M(async()=>j(async()=>{var p;return await E.vendor.virtutel.listAllOrders({status:f.value,page:e.value,limit:d.value,providerId:((p=G().query.provider)==null?void 0:p.toString())||""})},{watch:[e,d,f]},"$9P49eNk41y")),g=await g,m(),g);return(p,c)=>(D(),N(ie,null,{default:l(()=>[u(K,null,{default:l(()=>[u(H,{cols:"12",md:"6"},{default:l(()=>[u(Y,{modelValue:n(f),"onUpdate:modelValue":c[0]||(c[0]=a=>P(f)?f.value=a:null),items:v,"item-children":"children",label:"Status",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),n(i)?(D(),N(Z,{key:0,type:"error"},{default:l(()=>[S(C(n(i)),1)]),_:1})):O("",!0),n(t)?(D(),N(ee,{key:1,loading:n(r),"loading-text":"Loading... Please wait","items-per-page":n(d),"onUpdate:itemsPerPage":c[1]||(c[1]=a=>P(d)?d.value=a:null),page:n(e),"onUpdate:page":c[2]||(c[2]=a=>P(e)?e.value=a:null),"items-length":n(t).pagination.count,items:n(t).productOrders,"item-key":"id","items-per-page-options":[10,25,50,100],headers:n(s)},{"item.open":l(({item:a})=>[u(ue,null,{activator:l(({props:_})=>[u(R,$(q(_)),{default:l(()=>[S("View")]),_:2},1040)]),default:l(({isActive:_})=>[u(Q,{"prepend-icon":"mdi-package",title:a.vtOrderId},{actions:l(()=>[u(R,{class:"ml-auto",text:"Close",onClick:de=>_.value=!1},null,8,["onClick"])]),default:l(()=>[u(X,null,{default:l(()=>[W("pre",null,C(JSON.stringify(a,void 0,"  ")),1)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024)]),"item.service":l(({item:a})=>[S(C(a.service.supplierServiceId||a.service.vtServiceId||""),1)]),_:1},8,["loading","items-per-page","page","items-length","items","headers"])):O("",!0)]),_:1}))}}),be=J(ce,[["__file","order-list.vue"]]);export{be as default};
