import{f as h,g as w,h as b,r as n,i as B,j as D,o as m,c as _,k as t,l as k,w as l,d as N,t as c,m as u,b as V,n as d,_ as P}from"./entry.SIUp9reF.js";import{u as T}from"./asyncData.BgXEAR5X.js";import{V as U}from"./VAlert.C92k9yIl.js";import{V as $}from"./VImg.C7G75g1_.js";import{V as S}from"./VDataTableServer.lHctqgI7.js";import"./VAvatar.C6fgBJJk.js";import"./VBtn.B9kOMu1m.js";import"./filter.CGUnb9Lx.js";import"./VSelect.kYmte2xS.js";import"./index.CqBUh9nA.js";import"./VMenu.W11Pdke7.js";import"./forwardRefs.C-GTDzx5.js";import"./form.ChBs7JeA.js";import"./VChip.CXGDWW6y.js";import"./VTable.Cs42mpsc.js";const W={key:0},j=h({__name:"customerlist",async setup(E){let i,y;const g=w(),v=b(),a=n(1),o=n(10),s=n([{key:"createdAt",order:"desc"}]),x=n([{title:"Name",key:"entityName",align:"start"},{title:"Type",key:"entityType",align:"start"},{title:"Primary Contact",key:"primaryUser",align:"start"},{title:"Created",key:"createdAt",align:"start"},{title:"",key:"id",align:"start"}]),{data:p,pending:A,error:f,refresh:I}=([i,y]=B(async()=>T(async()=>await v.core.customer.listAllCustomers({page:a.value,limit:o.value,sort:s.value}),{watch:[a,o,s]},"$1x3Xnn6pio")),i=await i,y(),i);return(L,r)=>{const C=D("router-link");return m(),_("div",null,[t(f)?(m(),k(U,{key:0,type:"error"},{default:l(()=>[N(c(t(f)),1)]),_:1})):u("",!0),t(p)?(m(),k(S,{key:1,loading:t(A),"loading-text":"Loading... Please wait","items-per-page":t(o),"onUpdate:itemsPerPage":r[0]||(r[0]=e=>d(o)?o.value=e:null),page:t(a),"onUpdate:page":r[1]||(r[1]=e=>d(a)?a.value=e:null),"sort-by":t(s),"onUpdate:sortBy":r[2]||(r[2]=e=>d(s)?s.value=e:null),"multi-sort":"","items-length":t(p).pagination.count,items:t(p).customers,"item-key":"id","items-per-page-options":[10,25,50,100],headers:t(x)},{"item.id":l(({item:e})=>[V(C,{to:`/core/customer/${e.id}`},{default:l(()=>[V($,{icon:"mdi-account-edit-outline",color:"black"})]),_:2},1032,["to"])]),"item.createdAt":l(({value:e})=>[e?(m(),_("span",W,c(t(g).format(e,"normalDateWithWeekday"))+" "+c(t(g).format(e,"year")),1)):u("",!0)]),_:1},8,["loading","items-per-page","page","sort-by","items-length","items","headers"])):u("",!0)])}}}),et=P(j,[["__file","customerlist.vue"]]);export{et as default};
