import{f as D,u as V,g as B,r as c,h as C,i as W,o as n,c as y,j as t,k as _,w as l,d as v,t as a,l as d,b,m as g,_ as N}from"./entry.BOBPfMFk.js";import{u as S}from"./asyncData.Cc44f3DM.js";import{V as U}from"./VAlert.BL5Mlwzt.js";import{V as P}from"./VDataTableServer.C7Ev3nj5.js";import"./VAvatar.DlQoPayE.js";import"./VImg.780dCUd8.js";import"./VBtn.DMFPVIAn.js";import"./filter.CQobfN2u.js";import"./VSelect.bqfZhYfh.js";import"./index.BSNRW53t.js";import"./VMenu.D0sDVS1I.js";import"./forwardRefs.C-GTDzx5.js";import"./form.B_GF5cks.js";import"./VChip.BXXxOoS_.js";import"./VTable.m2jQkSG3.js";const $={key:0},E={key:0},I=D({__name:"servicelist",async setup(R){let m,f;const p=V(),A=B(),s=c(1),o=c(10),i=c([{key:"createdAt",order:"desc"}]),h=c([{title:"Reference",key:"reference",align:"start"},{title:"Name",key:"name",align:"start"},{title:"Status",key:"status",align:"start"},{title:"Ext. ID",key:"externalId",align:"start"},{title:"Created",key:"createdAt",align:"start"},{title:"Disconnected",key:"disconnectedAt",align:"start"}]),{data:u,pending:x,error:k,refresh:T}=([m,f]=C(async()=>S(async()=>await A.core.service.listAllServices({page:s.value,limit:o.value,sort:i.value}),{watch:[s,o,i]},"$rcWkowBMQU")),m=await m,f(),m);return(j,r)=>{const w=W("router-link");return n(),y("div",null,[t(k)?(n(),_(U,{key:0,type:"error"},{default:l(()=>[v(a(t(k)),1)]),_:1})):d("",!0),t(u)?(n(),_(P,{key:1,loading:t(x),"loading-text":"Loading... Please wait","items-per-page":t(o),"onUpdate:itemsPerPage":r[0]||(r[0]=e=>g(o)?o.value=e:null),page:t(s),"onUpdate:page":r[1]||(r[1]=e=>g(s)?s.value=e:null),"sort-by":t(i),"onUpdate:sortBy":r[2]||(r[2]=e=>g(i)?i.value=e:null),"multi-sort":"","items-length":t(u).pagination.count,items:t(u).services,"item-key":"id","items-per-page-options":[10,25,50,100],headers:t(h)},{"item.reference":l(({item:e})=>[b(w,{to:`/core/service/${e.id}`},{default:l(()=>[v(a(e.reference),1)]),_:2},1032,["to"])]),"item.createdAt":l(({value:e})=>[e?(n(),y("span",$,a(t(p).format(e,"normalDateWithWeekday"))+" "+a(t(p).format(e,"year")),1)):d("",!0)]),"item.disconnectedAt":l(({value:e})=>[e?(n(),y("span",E,a(t(p).format(e,"normalDateWithWeekday"))+" "+a(t(p).format(e,"year")),1)):d("",!0)]),_:1},8,["loading","items-per-page","page","sort-by","items-length","items","headers"])):d("",!0)])}}}),te=N(I,[["__file","servicelist.vue"]]);export{te as default};
